## Оптимизация управления персоналом с целью предотвращения оттока сотрудников

HR-аналитики компании «Работа с заботой» заинтересованы в том, чтобы эффективнее бороться с оттоком сотрудников у своих клиентов. Исходя из этой цели, были сформированы основые задачи проекта:

Первая задача — построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика.
Вторая задача — построить модель, которая сможет на основе данных заказчика предсказать то, что сотрудник уволится из компании.
Для выполнения задач были проделаны следующие шаги:

2 Предобработка данных

По итогу предобработки с помощью пайплайна заполнены пропуски в данных.

3 Исследовательский анализ

Установили следующий характер распределения данных:

employment_years: значения от 1-го года до 10-ти лет. Чем больше значение, тем меньше сотрудников.
supervisor_evaluation: значения от 1-го до 5-ти. Распределение похоже на нормальное, смещено вправо. Неудовлетворительные оценки в меньшинстве.
salary: значения от 12000 до 98400. Как мы предположили ранее, большие суммы заработной платы (примерно больше 75000) довольно редкие.
job_satisfaction_rate: значения от 0.03 до 1. Распределение похоже на нормальное, но как-будто имеет несколько пиков. Возможно, пики связаны с какими-то особенностями опроса, который проходили сотрудники.
dept: значения отдела распределены следующим образом: hr — 11.42%, marketing — 13.77%, purchasing — 15.27%, sales — 37.86%, technology — 21.68%.
level: значения уровня занимаемой должности: senior— 8.96%, junior — 47.4%, middle — 43.64%.
workload: значения уровня загруженности: high — 18.35%, low — 30%, medium — 51.65%.
last_year_promo: значения наличия повышения: no — 97%, yes — 3%.
last_year_violations: значения наличия нарушений: no — 86.02%, yes — 13.98%.
Составили следующий общий портрет увольняющихся сотрудников:

Чаще всего имеет уровень занимаемой должности junior.
Увольняется в первые три года работы. Особенно часто после первого года.
Примерно в половине случаев такие сотрудники имеют среднюю оценку работы руководителем.
Получают заработную плату до 35000.
Имеют уровень удовлетворённости рабочим местом не выше 0.5.
Вероятнее всего работает в отделе продаж или в отделе технологий. Загруженность увольняющихся работнков чаще низкая или средняя.
Установили следующую корреляцию входных признаков с целевым:

Корреляция с признаком job_satisfaction_rate:

dept: 0.08 — связи почти нет.
level: 0.08 — связи почти нет.
workload: 0.06 — связи почти нет.
employment_years: 0.33 — имеется умеренная связь.
last_year_promo: 0.19 — слабая теснота связи.
last_year_violations: 0.56 — признак заметно коррелирует с целевым.
supervisor_evaluation: 0.76 — наблюдаем высокую корреляцию.
salary: 0.17 — слабая теснота связи.
Корреляция с признаком quit:

dept: Нет связи с целевым.
level: 0.31 — имеется умеренная связь.
workload: 0.13 — слабая теснота связи.
employment_years: 0.66 — признак заметно коррелирует с целевым.
last_year_promo: 0.16 — слабая теснота связи.
last_year_violations: 0.19 — слабая теснота связи.
supervisor_evaluation: 0.25 — слабая теснота связи.
salary: 0.56 — признак заметно коррелирует с целевым.
4 Использование пайплайнов

Для решения первой задачи собрали пайплайн для перебора моделей и гиперпараметров в поисках лучшей модели для решения задачи предсказания удовлетворённости сотрудников рабочим местом. Пайплайн изучил следующие модели:

Модель линейной регрессии (LinearRegression()).
Дерево решений (DecisionTreeRegressor()).
Случайный лес (RandomForestRegressor()).
Метод К ближайших соседей (KNeighborsRegressor()).
В результате подбора гиперпараметров лучший результат по метрике SMAPE показала модель случайного леса со следующими гиперпараметрами:

Максимальная глубина — 18.
Обучение на 4-ёх признаках.
Число деревьев — 29.
Минимальное количество образцов, необходимое для разбиения внутреннего узла каждого дерева — 5.
Масштабирование количественных признаков выполнено с помощью StandardScaler.
Метрика лучшей модели на кросс-валидации: 13.661717485916071

Метрика SMAPE на тестовой выборке: 12.58016781246023

Комания заинтересована в том, чтобы предсказывать: уволится ли работник или нет. Иными словами, перед нами была поставлена задача бинарной классификации. Перед обучением следующей модели мы ввели во входные данные предсказанный лучшей моделью из предыдущего шага признак удовлетворённости рабочим местом, так как убедились, что он напрямую влияет на целевой признак.

Для подбора лучшего решения был создан пайплайн, который перебрал следующие модели:

Модель логистической регресии (LogisticRegression).
Дерево решений (DecisionTreeClassifier).
Случайный лес (RandomForestClassifier).
Метод К ближайших соседей (KNeighborsClassifier).
Собранный пайплайн показал лучшее значение метрики ROC-AUC на модели случайного леса со следующими гиперпараметрами:

Максимальная глубина — 14.
Обучение деревьев на 3-ёх признаках.
Минимальное количество образцов, необходимое для нахождения в листовом узле каждого дерева — 4.
Минимальное количество образцов, необходимое для разбиения внутреннего узла каждого дерева — 5.
Число деревьев — 47.
Метрика лучшей модели на кросс-валидации: 0.9371157494000268

Метрика ROC-AUC на тестовой выборке: 0.9284526314229835

Основная идея модели случайного леса (RandomForest) заключается в использовании большого ансамбля решающих деревьев, каждое из которых само по себе даёт очень невысокое качество классификации, но за счёт их большого количества результат получается хорошим. Вероятно это основная суть успеха модели в обеих задачах.

Исходя из проведённого анализа можем сформировать несколько предложений:

Удовлетворённость рабочим местом, похоже, сильно зависит от оценки работы руководителем. Молодые специалисты, надо полагать, относятся к критике даже более остро. В целом, конечно, любая критика должна подчёркивать как недостатки, так и положительные стороны, и помогать сотруднику стать лучше, как специалисту.
Молодые специалисты с зарплатой ниже 35000 вероятнее уйдут в любое другое место с условиями хоть немного получше. Можно постараться удерживать наиболее полезных сотрудников, если ввеси систему премирования, зависящую от оценки работы руководителем.
Очень часто специалисты уходят в первые три года работы. Опять же можно объяснить тем, что молодые специалисты не получают ожидаемого карьерного роста и уходят к конкурентам на любых чуть более привлекательных условиях. Можно попробовать ввести дополнительные условия премирования в первые три года работы, обеспечивать сотрудников дополнительными льготами.
